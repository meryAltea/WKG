<head>
    <meta charset="UTF-8"/>

</head>

<div class="row">
    <form class="col s12" novalidate name="frmProduto">
        <div class="row">
            <div class="input-field col s4 offset-s4">
                <input id="codigo" type="text" name="txtCodigo" ng-model="produto.codigo" required/> <label
                    for="codigo">Codigo</label> <span
                    ng-show="frmProduto.txtLogin.$error.required && frmProduto.txtCodigo.$dirty">Código
					Obrigatorio!</span> <span ng-show="frmProduto.txtCodigo.$error.minlength">Código
					pequeno!</span> <span ng-show="frmProduto.txtCodigo.$error.maxlength">Código
					muito grande!</span>
            </div>
            <div class="input-field col s4 offset-s4">
                <input id="nome" type="text" name="nome" ng-model="produto.nome"
                       required/> <label for="nome">Nome</label> <span
                    ng-show="frmProduto.nome.$error.required && frmProduto.nome.$dirty">Nome
					Obrigatório</span>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s4 offset-s4">

                <select ng-model="produto.categoria.id"
                        ng-controller="categoriaController" material-select watch>
                    <option value="" disabled selected>Categoria</option>
                    <option ng-repeat="c in categorias" ng-value="c.id">
                        {{c.descricao}}
                    </option>
                </select>
            </div>
            <div class="input-field col s4 offset-s4">

                <input id="linha" type="text" name="txtLinha"
                       ng-model="produto.linha" required/> <label for="linha">Linha</label>
				<span
                        ng-show="frmProduto.txtLinha.$error.required && frmProduto.txtCodigo.$dirty">Linha
					Obrigatoria!</span>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s4 offset-s4">
                <input id="descricao" type="text" name="descricao"
                       ng-model="produto.descricao" required/> <label for="descricao">Descrição</label>
				<span
                        ng-show="frmProduto.descricao.$error.required && frmProduto.descricao.$dirty">Descrição
					Obrigatória</span>
            </div>
            <div class="input-field col s4 offset-s4">

                <input id="quantidade" type="number" name="quantidade"
                       ng-model="produto.quantidadeDisponivelParaCompra" required/>

                <label for="quantidade">Quantidade</label> <span
                    ng-show="frmProduto.quantidade.$error.required && frmProduto.quantidade.$dirty">Preço
					Obrigatorio!</span>

            </div>
        </div>
        <div class="row">
            <div class="input-field col s4 offset-s4">
                <input id="preco" type="text" name="txtPreco"
                       ng-model="produto.preco" required/> <label for="preco">Preço</label>
                <!-- 										<pre>{{produto.preco|currency:"R$"}}</pre> -->
				<span
                        ng-show="frmProduto.preco.$error.required && frmProduto.preco.$dirty">Descrição
					Obrigatória</span>
                <input type="checkbox" id="test5" ng-model="produto.statusNaLoja" ng-checked="produto.statusNaLoja"/>
                <label for="test5"> Ativar esse produto na loja</label>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <button class="btn waves-effect waves-light" type="submit"
                        name="action" ng-click="salvarProduto()">
                    Salvar <i class="material-icons right">send</i>
                </button>
                <button class="btn waves-effect waves-light" type="clear"
                        name="action" ng-click="cancelar()"
                        ng-disabled="frmProduto.$invalid">
                    Limpar <i class="material-icons right">clear</i>
                </button>
            </div>
        </div>

        <div class="row">
            <h4>Produtos Cadastrados</h4>
            <div class="section col s4  offset-s4">

                <div ng-repeat="prod in produtos">

                    <ul class="collection">
                        <li class="collection-item ">
                            <div>
                                {{prod.id + '-'+ prod.nome}}

                                <a href="#!"
                                   class="secondary-content" ng-click="excluirProduto(prod.id)">
                                    <i class="material-icons">delete</i>
                                </a>

                                <a href="#!" class="secondary-content"
                                   ng-click="preparaAlterar(prod)"> <i class="material-icons">edit</i>
                                </a>

                                <a href="/upload/{{prod.id}}" class="secondary-content">
                                    <i class="material-icons">picture_in_picture</i>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </form>


</div>

